---
title: 규모조정의 요소
author: 김기현
date: 2024-4-28
category: Chapter 2
layout: post
mermaid: true
---

# 확장성
대규모 환경에서는 서버를 여러 대 나열해놓고 그 서버로 부하를 분산한다.
웹 서비스에서는 스케일아웃 전략이 주류이다. 왜냐하면 웹 서비스에 적합한 형태이고 비용이 저렴하며, 시스템 구성에 유연성이 있다는 점이다.

# CPU 부하와 I/O 부하
스케일 아웃은 하드웨어를 나열해서 성능을 높이는 방법이다. 이때 CPU 부하의 확장성을 확보하기는 쉽다.

> #### TIP
>  웹 애플리케이션이 계산을 수행하고 있을 때 DB에 질의하고 응답 받은 데이터를 가공해서 HTML로 클라이언트에 반환할 때는 기본적으로 CPU부하만 소요되는 부분이다.
> 
{: .block-tip }


하지만 위 예시에서 나온 DB 서버에서 데이터를 읽어올 때는 I/O 부하가 걸린다

## 웹 애플리케이션과 부하의 관계

웹 애플리케이션은 AP서버와 DB가 있다. AP서버는 위에서 말한 CPU 부하만 걸리는 부분이다. I/O 부하는 걸리지 않는다.

반면에 DB는 CPU부하는 걸리지 않는다. I/O 부하만 발생한다.

두 부분에서 각각 다른 부하가 발생하는데 CPU 부하는 위에서 말한 것처럼 스케일아웃으로 간단하게 처리할 수 있다.
하지만 I/O 부하는 간단히 부하를 분산할 수 없다.

* DB를 같이 놓으면 DB1에서 쓰기가 발생했을 때 DB2가 지닌 데이터를 어떻게 동기화할 것인가?
* DB1의 데이터를 DB2에 복사하고 싶은데 어떻게 DB2에 쓸 것인가

위처럼 문제가 발생하기 때문이다.

## DB 확장성 확보의 어려움
대규모 환경에선 I/O 부하를 부담하고 있는 서버는 애초에 분사시키기 어려운데다가 디스크I/O가 많이 발생하면 서버가 금세 느려지는 본질적인 문제가 있다.

> #### TIP
> CPU부하의 규모 저정은 간단하다
> * 같은 구성의 서버를 늘리고 로드밸런서로 분산한다
> * 웹, AP 서버, zmfhffj
> 
> I/O 부하의 규모 조정은 어렵다
> * DB
> * 대규모 데이터
{: .block-tip}
